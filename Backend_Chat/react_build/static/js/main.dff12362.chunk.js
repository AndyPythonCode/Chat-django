(this.webpackJsonpchat=this.webpackJsonpchat||[]).push([[0],{20:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(14),r=n.n(s),o=(n(20),n(2)),i={user_name:function(e){var t=document.getElementById(e);return t?JSON.parse(t.textContent):"Notfound"}("user_name")},u=n(1);var l=function(){var e=Object(o.f)().room_name,t=new WebSocket("ws://127.0.0.1:8000/ws/chat/".concat(e,"/")),n=a.a.useRef(),s=a.a.useRef();Object(c.useEffect)((function(){t.onopen=function(){console.log("Connected to Django Servicess")},t.onmessage=function(e){var t=JSON.parse(e.data);n.current.value+="".concat(t.user,": ").concat(t.message," \n")}}));var r=function(){s.current.value&&(t.send(JSON.stringify({message:s.current.value,user:i.user_name})),s.current.value="")};return Object(u.jsx)(c.Fragment,{children:Object(u.jsx)("div",{className:"row justify-content-center mt-5",children:Object(u.jsxs)("div",{className:"col-md-4",children:[Object(u.jsxs)("div",{className:"form-floating",children:[Object(u.jsx)("textarea",{readOnly:!0,style:{height:"320px",background:"#fff"},className:"form-control",id:"floatingTextarea",ref:n}),Object(u.jsxs)("label",{className:"text-success",htmlFor:"floatingTextarea",children:["Chat: ",Object(u.jsx)("b",{children:e})]})]}),Object(u.jsxs)("div",{className:"input-group mb-3 mt-2",children:[Object(u.jsx)("input",{id:"message-input",type:"text",className:"form-control",placeholder:"Message...","aria-label":"Recipient's username","aria-describedby":"button-chat",ref:s,onKeyUp:function(e){13===e.keyCode&&s.current.value&&r()}}),Object(u.jsx)("input",{className:"btn btn-outline-success",type:"button",id:"button-chat",onClick:r,value:"Button"})]})]})})})},j=n(11);var d=function(){return Object(u.jsx)(j.a,{children:Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{path:"/chat/:room_name",children:Object(u.jsx)(l,{})}),Object(u.jsx)(o.a,{exact:!0,path:"/",children:Object(u.jsx)("p",{children:"Hola Mundo a todos!!!!"})})]})})};r.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(d,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.dff12362.chunk.js.map