{"version":3,"sources":["Components/chat/Room.js","form/Welcome.js","Components/chat/Welcome.js","Components/authentication/login.js","django_context/get_context_data.js","App.js","index.js"],"names":["Room","user","room_name","useParams","client","WebSocket","out_put","React","useRef","in_put","useEffect","onopen","console","log","onmessage","Message","data","JSON","parse","current","value","message","sendMessage","send","stringify","className","readOnly","style","height","background","id","ref","htmlFor","type","placeholder","onKeyUp","key","keyCode","onClick","content","inputs","label","name","focus","required","useStyles","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","width","form","submit","color","Chat","classes","useState","room","setData","history","useHistory","inputChange","input","target","Container","maxWidth","Avatar","Typography","component","variant","onSubmit","push","map","TextField","fullWidth","onChange","autoFocus","Button","Login","context","request","tag","document","getElementById","textContent","get_context_data","App","path","exact","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.85d1c85f.chunk.js","sourcesContent":["import React, { Fragment } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nfunction Room({ user }) {\r\n  let { room_name } = useParams();\r\n  const client = new WebSocket(`ws://127.0.0.1:8000/ws/chat/${room_name}/`);\r\n  const out_put = React.useRef();\r\n  const in_put = React.useRef();\r\n\r\n  //se ejecuta después de cada renderizado.\r\n  React.useEffect(() => {\r\n    client.onopen = () => {\r\n      console.log(\"Connected to Django Services\");\r\n    };\r\n\r\n    //get message\r\n    client.onmessage = (Message) => {\r\n      const data = JSON.parse(Message.data);\r\n      out_put.current.value += `${data.user}: ${data.message} \\n`;\r\n    };\r\n  });\r\n\r\n  //set message\r\n  const sendMessage = () => {\r\n    if (in_put.current.value) {\r\n      client.send(\r\n        JSON.stringify({\r\n          message: in_put.current.value,\r\n          user: user,\r\n        })\r\n      );\r\n      in_put.current.value = \"\";\r\n    }\r\n  };\r\n\r\n  //KeyCode === 13 is 'ENTER' on the keyboard\r\n  const pressEnter = (key) => {\r\n    if (key.keyCode === 13 && in_put.current.value) {\r\n      sendMessage();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className=\"row justify-content-center mt-5\">\r\n        <div className=\"col-md-4\">\r\n          <div className=\"form-floating\">\r\n            <textarea\r\n              readOnly\r\n              style={{ height: \"320px\", background: \"#fff\" }}\r\n              className=\"form-control\"\r\n              id=\"floatingTextarea\"\r\n              ref={out_put}\r\n            ></textarea>\r\n            <label className=\"text-success\" htmlFor=\"floatingTextarea\">\r\n              Chat: <b>{room_name}</b>\r\n            </label>\r\n          </div>\r\n\r\n          <div className=\"input-group mb-3 mt-2\">\r\n            <input\r\n              id=\"message-input\"\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder=\"Message...\"\r\n              ref={in_put}\r\n              onKeyUp={pressEnter}\r\n            />\r\n            <input\r\n              className=\"btn btn-outline-success\"\r\n              type=\"button\"\r\n              id=\"button-chat\"\r\n              onClick={sendMessage}\r\n              value=\"Button\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default Room;\r\n","const content = {\r\n  inputs: [\r\n    {\r\n      label: \"Nombre de la sala\",\r\n      name: \"room\",\r\n      focus: true,\r\n      required: true,\r\n    },\r\n  ],\r\n};\r\n\r\nexport default content;\r\n","import React from \"react\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport content from \"../../form/Welcome\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(12),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: \"#0094C6\",\r\n    width: \"5rem\",\r\n    height: \"5rem\",\r\n  },\r\n  form: {\r\n    width: \"100%\",\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(2, 0, 2),\r\n    backgroundColor: \"#0094C6\",\r\n    color: \"white\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"#005E7C\",\r\n    },\r\n  },\r\n  user: {\r\n    color: \"Green\",\r\n  },\r\n}));\r\n\r\nexport default function Chat({ user }) {\r\n  const classes = useStyles();\r\n\r\n  const [data, setData] = React.useState({\r\n    room: \"\",\r\n  });\r\n\r\n  //Cada navegación hacia adelante o hacia atrás usa el objeto history para navegar a un nuevo componente en una nueva URL:\r\n  const history = useHistory();\r\n\r\n  const inputChange = (input) => {\r\n    setData({\r\n      ...data,\r\n      [input.target.name]: input.target.value,\r\n    });\r\n  };\r\n\r\n  const enterToRoom = () => {\r\n    history.push(`/chat/${data.room}/`);\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\">\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}></Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Bienvenido: <span className={classes.user}>{user}</span>\r\n        </Typography>\r\n        <form className={classes.form} onSubmit={enterToRoom}>\r\n          {content.inputs.map((input) => {\r\n            return (\r\n              <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                fullWidth\r\n                label={input.label}\r\n                name={input.name}\r\n                onChange={inputChange}\r\n                autoFocus={input.focus}\r\n                required={input.required}\r\n              />\r\n            );\r\n          })}\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            className={classes.submit}\r\n          >\r\n            Entrar\r\n          </Button>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n","import React from 'react'\r\n\r\nfunction Login(){\r\n    return (\r\n      <div>\r\n        <p>Login Page</p>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Login;","const get_context_data = (tag) => {\r\n  const value = document.getElementById(tag);\r\n  return JSON.parse(value.textContent);\r\n};\r\n\r\nconst context = {\r\n  request: get_context_data(\"page_request\"),\r\n};\r\n\r\nexport default context;\r\n","import React from \"react\";\r\nimport Room from \"./Components/chat/Room\";\r\nimport Chat from \"./Components/chat/Welcome\";\r\nimport Login from \"./Components/authentication/login\";\r\nimport context from \"./django_context/get_context_data\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        {/* Chat Room */}\r\n        <Route\r\n          path=\"/chat/:room_name\"\r\n          exact\r\n          component={() => <Room user={context.request.user} />}\r\n        />\r\n        <Route\r\n          path=\"/chat\"\r\n          exact\r\n          component={() => <Chat user={context.request.user} />}\r\n        />\r\n\r\n        {/* Authentication */}\r\n        <Route \r\n          path=\"/usuario/login\"\r\n          exact\r\n          component={() => <Login />}\r\n        />\r\n\r\n        {/* Home */}\r\n        <Route \r\n          exact \r\n          path=\"/\">\r\n          <p>Hola Mundo a todos!!!!</p>\r\n        </Route>\r\n\r\n        {/* 404 Error */}\r\n        <Route>\r\n          <p>No se encontro nada en esta pagina</p>\r\n        </Route>\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}