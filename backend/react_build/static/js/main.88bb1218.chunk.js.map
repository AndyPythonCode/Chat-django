{"version":3,"sources":["Components/authentication/ProtectedRouter.js","Components/dashboard/Nav.js","Components/dashboard/NotFound.js","Components/chat/Room.js","form/Welcome.js","Components/common/Input.js","Components/common/Button.js","Components/common/CurrentUser.js","Components/chat/Welcome.js","Components/authentication/login.js","Components/authentication/Logout.js","Components/authentication/Register.js","Components/router/Main.js","App.js","index.js"],"names":["ProtectedRouter","isAuth","where","Display","component","rest","render","to","Nav","className","type","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","id","NotFound","BACKUP_ROOM","CONVERSATION","ROOMS","Room","token","client","React","useRef","room_name","useParams","in_put","useState","name","user","setUser","useEffect","current","WebSocket","onopen","console","log","onclose","includes","close","push","onmessage","Message","data","JSON","parse","document","getElementById","value","message","axios","get","headers","Authorization","then","res","response","sendMessage","send","stringify","readOnly","style","height","background","htmlFor","placeholder","ref","onKeyUp","key","keyCode","onClick","welcome","inputs","label","focus","required","MyInput","onChange","map","input","TextField","variant","margin","fullWidth","autoFocus","MyButton","classes","Button","CurrentUser","useStyles","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","backgroundColor","width","form","submit","color","fontWeight","Chat","history","useHistory","room","setData","Container","maxWidth","Avatar","Typography","onSubmit","e","localStorage","setItem","preventDefault","target","Login","setToken","email","password","setForm","errorForm","post","auth_token","catch","error","innerText","LogOut","setAuth","removeItem","Register","useForm","register","errors","handleSubmit","username","first_name","firstname","last_name","lastname","element","minLength","Main","auth","getItem","exact","path","Logout","App","ReactDOM","StrictMode"],"mappings":"+LAGe,SAASA,EAAT,GAKX,IAJFC,EAIC,EAJDA,OACAC,EAGC,EAHDA,MACWC,EAEV,EAFDC,UACGC,EACF,8CACD,OACE,cAAC,IAAD,2BACMA,GADN,IAEEC,OAAQ,WACN,OAAGL,EACQ,cAACE,EAAD,IAEA,cAAC,IAAD,CAAUI,GAAIL,QCgClBM,MA7Cf,WACE,OACE,qBAAKC,UAAU,kDAAf,SACE,sBAAKA,UAAU,YAAf,UACE,cAAC,IAAD,CAAMA,UAAU,eAAeF,GAAG,IAAlC,SACE,mBAAGE,UAAU,aAAb,yBAEF,wBACEA,UAAU,iBACVC,KAAK,SACLC,iBAAe,WACfC,iBAAe,cACfC,gBAAc,aACdC,gBAAc,QACdC,aAAW,oBAPb,SASE,sBAAMN,UAAU,0BAElB,qBACEA,UAAU,+CACVO,GAAG,aAFL,SAIE,qBAAIP,UAAU,0BAAd,UACE,oBAAIA,UAAU,gBAAd,SACE,cAAC,IAAD,CAAMA,UAAU,sBAAsBF,GAAG,IAAzC,yBAIF,oBAAIE,UAAU,gBAAd,SACE,cAAC,IAAD,CAAMA,UAAU,sBAAsBF,GAAG,SAAzC,oBAIF,oBAAIE,UAAU,gBAAd,SACE,cAAC,IAAD,CAAMA,UAAU,sBAAsBF,GAAG,WAAzC,gCC3BCU,ICHXC,EDGWD,EARf,WACE,OACE,8BACE,6C,iBCAAE,EAAe,GACfC,EAAQ,GA6HCC,MA1Hf,YAA0B,IAAVC,EAAS,EAATA,MACRC,EAASC,IAAMC,OAAO,MACtBC,EAAcC,cAAdD,UACAE,EAASJ,IAAMC,SAHE,EAICD,IAAMK,SAAS,CACrCC,KAAM,KALe,mBAIhBC,EAJgB,KAIVC,EAJU,KAQvBR,IAAMS,WAAU,WACdV,EAAOW,QAAU,IAAIC,UAAJ,sCAA6CT,EAA7C,MAEjBH,EAAOW,QAAQE,OAAS,WACtBC,QAAQC,IAAI,gCACZpB,EAAcK,EAAOW,SAGvBX,EAAOW,QAAQK,QAAU,WACvBF,QAAQC,IAAI,oCAIdlB,EAAMoB,SAASd,GAAaR,EAAYuB,QAAUrB,EAAMsB,KAAKhB,GAG7DH,EAAOW,QAAQS,UAAY,SAACC,GAC1B,IAAMC,EAAOC,KAAKC,MAAMH,EAAQC,MAChCG,SAASC,eACP,oBACAC,OAFF,UAEcL,EAAKd,KAFnB,aAE4Bc,EAAKM,QAFjC,MAGAhC,EAAauB,KAAK,CAAEX,KAAMc,EAAKd,KAAMoB,QAASN,EAAKM,UACnDd,QAAQC,IAAInB,IAIdiC,IACGC,IAAI,2CAA4C,CAC/CC,QAAS,CACPC,cAAc,SAAD,OAAWjC,MAG3BkC,MAAK,SAACC,GACL,IAAMC,EAAWD,EAAIZ,KACrBb,EAAQ,CACNF,KAAM4B,EAAS3B,YAKpB,IAGH,IAAM4B,EAAc,WACd/B,EAAOM,QAAQgB,QACjB3B,EAAOW,QAAQ0B,KACbd,KAAKe,UAAU,CACbV,QAASvB,EAAOM,QAAQgB,MACxBnB,KAAMA,EAAKD,QAGfF,EAAOM,QAAQgB,MAAQ,KAe3B,OACE,cAAC,WAAD,UACE,qBAAKzC,UAAU,kCAAf,SACE,sBAAKA,UAAU,WAAf,UACE,sBAAKA,UAAU,gBAAf,UACE,0BACEqD,UAAQ,EACRC,MAAO,CAAEC,OAAQ,QAASC,WAAY,QACtCxD,UAAU,eACVO,GAAG,qBAEL,wBAAOP,UAAU,eAAeyD,QAAQ,mBAAxC,mBACQ,4BAAIxC,UAId,sBAAKjB,UAAU,wBAAf,UACE,uBACEO,GAAG,gBACHN,KAAK,OACLD,UAAU,eACV0D,YAAY,aACZC,IAAKxC,EACLyC,QA7BO,SAACC,GACE,KAAhBA,EAAIC,SAAkB3C,EAAOM,QAAQgB,OACvCS,OA6BM,uBACElD,UAAU,0BACVC,KAAK,SACLM,GAAG,cACHwD,QAASb,EACTT,MAAM,sBAGV,qBAAKzC,UAAU,6BAAf,SACE,uBACEA,UAAU,yBACVC,KAAK,SACLM,GAAG,mBACHwD,QAjDE,WACZjD,EAAOW,QAAQO,SAiDLS,MAAM,oB,4CC/GLuB,EAXC,CACdC,OAAQ,CACN,CACEC,MAAO,oBACP7C,KAAM,OACN8C,OAAO,EACPC,UAAU,K,SCkBDC,MArBf,YAAwC,IAArBC,EAAoB,EAApBA,SAAUL,EAAU,EAAVA,OAC3B,OACE,mCACGA,EAAOM,KAAI,SAACC,EAAOX,GAClB,OACE,cAACY,EAAA,EAAD,CACEC,QAAQ,WACRC,OAAO,SACPC,WAAS,EACTV,MAAOM,EAAMN,MACb7C,KAAMmD,EAAMnD,KACZiD,SAAUA,EACVO,UAAWL,EAAML,MACjBC,SAAUI,EAAMJ,UARFP,S,SCQXiB,MAbf,YAAmC,IAAhBC,EAAe,EAAfA,QAAS9E,EAAM,EAANA,KACxB,OACE,cAAC+E,EAAA,EAAD,CACE/E,KAAMA,EACN2E,WAAS,EACTF,QAAQ,YACR1E,UAAW+E,EAJb,qBCmBSE,MArBf,YAA+B,IAATpE,EAAQ,EAARA,MAAQ,EACJE,IAAMK,SAAS,CACrCC,KAAM,KAFoB,mBACrBC,EADqB,KACfC,EADe,KAkB5B,OAbAR,IAAMS,WAAU,WACdmB,IAAMC,IAAI,2CAA2C,CACnDC,QAAS,CACP,cAAgB,SAAhB,OAA0BhC,MAE3BkC,MAAK,SAACC,GACP,IAAMC,EAAWD,EAAIZ,KACrBb,EAAQ,CACNF,KAAM4B,EAAS3B,YAGlB,CAACT,IAEGS,EAAKD,MCVR6D,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,MAAO,CACLC,UAAWF,EAAMG,QAAQ,IACzBC,QAAS,OACTC,cAAe,SACfC,WAAY,UAEdC,OAAQ,CACNhB,OAAQS,EAAMG,QAAQ,GACtBK,gBAAiB,UACjBC,MAAO,OACPtC,OAAQ,QAEVuC,KAAM,CACJD,MAAO,OACPP,UAAWF,EAAMG,QAAQ,IAE3BQ,OAAQ,CACNpB,OAAQS,EAAMG,QAAQ,EAAG,EAAG,GAC5BK,gBAAiB,UACjBI,MAAO,QACP,UAAW,CACTJ,gBAAiB,YAGrBtE,KAAM,CACJ0E,MAAO,QACPC,WAAY,YAID,SAASC,EAAT,GAAwB,IAATrF,EAAQ,EAARA,MAEtBsF,EAAUC,cACVrB,EAAUG,IAHoB,EAIZnE,IAAMK,SAAS,CACrCiF,KAAM,KAL4B,mBAI7BjE,EAJ6B,KAIvBkE,EAJuB,KAqBpC,OACE,cAACC,EAAA,EAAD,CAAWC,SAAS,KAApB,SACE,sBAAKxG,UAAW+E,EAAQM,MAAxB,UACE,cAACoB,EAAA,EAAD,CAAQzG,UAAW+E,EAAQY,SAC3B,eAACe,EAAA,EAAD,CAAY/G,UAAU,KAAK+E,QAAQ,KAAnC,wBACc,IACZ,sBAAM1E,UAAW+E,EAAQzD,KAAzB,SAAgC,cAAC,EAAD,CAAaT,MAAOA,SAGtD,uBAAMb,UAAW+E,EAAQe,KAAMa,SAfjB,SAACC,GACnBT,EAAQlE,KAAR,gBAAsBG,EAAKiE,KAA3B,MACAQ,aAAaC,QAAQ,OAAQ1E,EAAKiE,MAClCO,EAAEG,kBAYE,UACE,cAAC,EAAD,CAAS9C,OAAQD,EAAQC,OAAQK,SAvBrB,SAACE,GACnB8B,EAAQ,2BACHlE,GADE,kBAEJoC,EAAMwC,OAAO3F,KAAOmD,EAAMwC,OAAOvE,YAqB9B,cAAC,EAAD,CAAUxC,KAAK,SAAS8E,QAASA,EAAQgB,iBCMpCkB,MA5Ef,YAA8B,IAAbC,EAAY,EAAZA,SACTf,EAAUC,cADW,EAEHrF,IAAMK,SAAS,CACrC+F,MAAO,GACPC,SAAU,KAJe,mBAEpBtB,EAFoB,KAEduB,EAFc,KAMrBC,EAAYvG,IAAMC,OAAO,IAEzBsD,EAAW,SAACE,GAChB6C,EAAQ,2BACHvB,GADE,kBAEJtB,EAAMwC,OAAO3F,KAAOmD,EAAMwC,OAAOvE,UAsBtC,OACE,qBAAKzC,UAAU,6BAAf,SACE,qBAAKA,UAAU,WAAf,SACE,uBAAM2G,SArBI,SAACC,GACfA,EAAEG,iBACFpE,IACG4E,KAAK,4CAA6C,CACjDH,SAAUtB,EAAKsB,SACfD,MAAOrB,EAAKqB,QAEbpE,MAAK,SAACE,GACLiE,EAASjE,EAASb,KAAKoF,YACvBX,aAAaC,QAAQ,QAAS7D,EAASb,KAAKoF,YAC5CrB,EAAQlE,KAAK,aAEdwF,OAAM,SAACC,GACN9F,QAAQC,IAAI6F,GACZJ,EAAU7F,QAAQkG,UAAY,uBAO9B,UACE,sBAAK3H,UAAU,OAAf,UACE,uBAAOyD,QAAQ,qBAAqBzD,UAAU,aAA9C,mCAGA,uBACEC,KAAK,QACLoB,KAAK,QACLiD,SAAUA,EACVtE,UAAU,eACVoE,UAAQ,IAEV,qBAAK7D,GAAG,YAAYP,UAAU,YAA9B,2EAIF,sBAAKA,UAAU,OAAf,UACE,uBAAOyD,QAAQ,wBAAwBzD,UAAU,aAAjD,2BAGA,uBACEC,KAAK,WACLoB,KAAK,WACLiD,SAAUA,EACVtE,UAAU,eACVoE,UAAQ,OAGZ,wBAAQnE,KAAK,SAASD,UAAU,kBAAhC,oBAGA,8BACE,sBAAM2D,IAAK2D,EAAWtH,UAAU,0BCxC7B4H,MA5Bf,YAAqC,IAAnBC,EAAkB,EAAlBA,QAAShH,EAAS,EAATA,MACnBsF,EAAUC,cAmBhB,OACE,gCACE,4CACA,wBAAQrC,QApBI,SAAC6C,GACfA,EAAEG,iBACFpE,IACG4E,KAAK,6CAA8C,GAAI,CACtD1E,QAAS,CACPC,cAAc,SAAD,OAAWjC,MAG3BkC,MAAK,SAACE,GACL4E,GAAQ,GACRhB,aAAaiB,WAAW,SACxB3B,EAAQlE,KAAK,QAEdwF,OAAM,SAACC,GACN9F,QAAQC,IAAI6F,OAMd,wB,QCyGSK,MA/Hf,WAAqB,IAAD,YACyBC,cAAnCC,EADU,EACVA,SAAUC,EADA,EACAA,OAAQC,EADR,EACQA,aACpBhC,EAAUC,cAyBhB,OACE,qBAAKpG,UAAU,MAAf,SACE,sBAAKA,UAAU,mBAAf,UACE,oBAAIA,UAAU,0CAAd,2BAGA,uBAAM2G,SAAUwB,GA7BN,SAACrC,GACfnD,IACG4E,KAAK,sCAAuC,CAC3Ca,SAAUtC,EAAKsC,SACfC,WAAYvC,EAAKwC,UACjBC,UAAWzC,EAAK0C,SAChBrB,MAAOrB,EAAKqB,MACZC,SAAUtB,EAAKsB,WAEhBrE,MAAK,WACJoD,EAAQlE,KAAK,cAEdwF,OAAM,SAACC,GACN,IAAMzE,EAAWyE,EAAMzE,SAASb,KAEhC,IAAK,IAAMqG,KADXlG,SAASC,eAAe,UAAUmF,UAAY,GACxB1E,EACpBV,SAASC,eACP,UACAmF,WAFF,UAEkBc,EAFlB,kDAaF,UACE,uBACExI,KAAK,OACLoB,KAAK,WACLqC,YAAY,QACZ1D,UAAU,oBACV2D,IAAKsE,EAAS,CACZ7D,SAAU,CACR3B,OAAO,EACPC,QAAS,8BAIf,mBAAG1C,UAAU,sCAAb,mBACGkI,EAAOE,gBADV,aACG,EAAiB1F,UAEpB,uBACEzC,KAAK,OACLoB,KAAK,YACLqC,YAAY,UACZ1D,UAAU,oBACV2D,IAAKsE,EAAS,CACZ7D,SAAU,CACR3B,OAAO,EACPC,QAAS,uCAIf,mBAAG1C,UAAU,sCAAb,mBACGkI,EAAOI,iBADV,aACG,EAAkB5F,UAErB,uBACEzC,KAAK,OACLoB,KAAK,WACLqC,YAAY,YACZ1D,UAAU,oBACV2D,IAAKsE,EAAS,CACZ7D,SAAU,CACR3B,OAAO,EACPC,QAAS,iCAIf,mBAAG1C,UAAU,sCAAb,mBACGkI,EAAOM,gBADV,aACG,EAAiB9F,UAEpB,uBACEzC,KAAK,QACLoB,KAAK,QACLqC,YAAY,QACZ1D,UAAU,oBACV2D,IAAKsE,EAAS,CACZ7D,SAAU,CACR3B,OAAO,EACPC,QAAS,8BAIf,mBAAG1C,UAAU,sCAAb,mBACGkI,EAAOf,aADV,aACG,EAAczE,UAEjB,uBACEzC,KAAK,WACLoB,KAAK,WACLqC,YAAY,gBACZ1D,UAAU,oBACV2D,IAAKsE,EAAS,CACZ7D,SAAU,CACR3B,OAAO,EACPC,QAAS,gCAEXgG,UAAW,CACTjG,MAAO,EACPC,QAAS,+BAIf,mBAAG1C,UAAU,sCAAb,mBACGkI,EAAOd,gBADV,aACG,EAAiB1E,UAEpB,mBAAGnC,GAAG,WACN,qBAAKP,UAAU,kCAAf,SACE,uBACEA,UAAU,kBACVyC,MAAM,YACNxC,KAAK,sBChHJ,SAAS0I,IAAQ,IAAD,EACH5H,IAAMK,WADH,mBACtBP,EADsB,KACfqG,EADe,OAELnG,IAAMK,UAAS,GAFV,mBAEtBwH,EAFsB,KAEhBf,EAFgB,KAW7B,OAPA9G,IAAMS,WAAU,WACVqF,aAAagC,QAAQ,WACvB3B,EAASL,aAAagC,QAAQ,UAC9BhB,GAAQ,MAET,CAAChH,IAGF,eAAC,IAAD,WACE,cAAC,EAAD,IACA,eAAC,IAAD,WACE,cAACtB,EAAD,CACEuJ,OAAK,EACLtJ,OAAQoJ,EACRnJ,MAAO,SACPsJ,KAAK,mBACLpJ,UAAW,kBAAM,cAAC,EAAD,CAAMkB,MAAOA,OAEhC,cAACtB,EAAD,CACEuJ,OAAK,EACLtJ,OAAQoJ,EACRnJ,MAAO,UACPsJ,KAAK,QACLpJ,UAAW,kBAAM,cAACuG,EAAD,CAAMrF,MAAOA,OAEhC,cAACtB,EAAD,CACEuJ,OAAK,EACLtJ,QAASoJ,EACTnJ,MAAO,SACPsJ,KAAK,SACLpJ,UAAW,kBAAM,cAAC,EAAD,CAAOuH,SAAUA,OAEpC,cAAC3H,EAAD,CACEuJ,OAAK,EACLtJ,OAAQoJ,EACRnJ,MAAO,SACPsJ,KAAK,UACLpJ,UAAW,kBAAM,cAACqJ,EAAD,CAAQnB,QAASA,EAAShH,MAAOA,OAEpD,cAACtB,EAAD,CACEuJ,OAAK,EACLtJ,QAASoJ,EACTnJ,MAAO,SACPsJ,KAAK,IACLpJ,UAAW,kBAAM,cAAC,EAAD,OAEnB,cAAC,IAAD,CAAOA,UAAW,kBAAM,cAAC,EAAD,aCtDjBsJ,MAJf,WACE,OAAO,cAACN,EAAD,KCATO,IAASrJ,OACP,cAAC,IAAMsJ,WAAP,UACI,cAAC,EAAD,MAEJ5G,SAASC,eAAe,W","file":"static/js/main.88bb1218.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nexport default function ProtectedRouter({\r\n  isAuth, //Login\r\n  where, //redirect to\r\n  component: Display, //every component\r\n  ...rest //it's like *args in python\r\n}) {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={() => {\r\n        if(isAuth){\r\n            return <Display />\r\n        }else {\r\n            return <Redirect to={where}/>\r\n        }\r\n      }}\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Nav() {\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg navbar-light bg-primary\">\r\n      <div className=\"container\">\r\n        <Link className=\"navbar-brand\" to=\"/\">\r\n          <b className=\"text-light\">Chat Room</b>\r\n        </Link>\r\n        <button\r\n          className=\"navbar-toggler\"\r\n          type=\"button\"\r\n          data-bs-toggle=\"collapse\"\r\n          data-bs-target=\"#navbarText\"\r\n          aria-controls=\"navbarText\"\r\n          aria-expanded=\"false\"\r\n          aria-label=\"Toggle navigation\"\r\n        >\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <div\r\n          className=\"collapse navbar-collapse justify-content-end\"\r\n          id=\"navbarText\"\r\n        >\r\n          <ul className=\"navbar-nav mb-2 mb-lg-0\">\r\n            <li className=\"nav-item px-4\">\r\n              <Link className=\"nav-link text-white\" to=\"/\">\r\n                Registrar\r\n              </Link>\r\n            </li>\r\n            <li className=\"nav-item px-4\">\r\n              <Link className=\"nav-link text-white\" to=\"/chat/\">\r\n                Chat\r\n              </Link>\r\n            </li>\r\n            <li className=\"nav-item px-4\">\r\n              <Link className=\"nav-link text-white\" to=\"/logout/\">\r\n                Salir\r\n              </Link>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Nav;\r\n","import React from \"react\";\r\n\r\nfunction NotFound() {\r\n  return (\r\n    <div>\r\n      <p>Not Found</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NotFound;\r\n","import React, { Fragment } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\n//GLOBAL\r\nconst CONVERSATION = [];\r\nconst ROOMS = [];\r\nlet BACKUP_ROOM;\r\n\r\nfunction Room({ token }) {\r\n  const client = React.useRef(null);\r\n  let { room_name } = useParams();\r\n  const in_put = React.useRef();\r\n  const [user, setUser] = React.useState({\r\n    name: \"\",\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    client.current = new WebSocket(`ws://127.0.0.1:8000/ws/chat/${room_name}/`);\r\n\r\n    client.current.onopen = () => {\r\n      console.log(\"Connected to Django Services\");\r\n      BACKUP_ROOM = client.current;\r\n    };\r\n\r\n    client.current.onclose = () => {\r\n      console.log(\"Disconnected to Django Services\");\r\n    };\r\n\r\n    //close if open\r\n    ROOMS.includes(room_name) ? BACKUP_ROOM.close() : ROOMS.push(room_name);\r\n\r\n    //get message\r\n    client.current.onmessage = (Message) => {\r\n      const data = JSON.parse(Message.data);\r\n      document.getElementById(\r\n        \"floatingTextarea\"\r\n      ).value += `${data.user}: ${data.message}\\n`;\r\n      CONVERSATION.push({ user: data.user, message: data.message });\r\n      console.log(CONVERSATION);\r\n    };\r\n\r\n    //current user\r\n    axios\r\n      .get(\"http://127.0.0.1:8000/user/current_user/\", {\r\n        headers: {\r\n          Authorization: `Token ${token}`,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        const response = res.data;\r\n        setUser({\r\n          name: response.user,\r\n        });\r\n      });\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  //set message\r\n  const sendMessage = () => {\r\n    if (in_put.current.value) {\r\n      client.current.send(\r\n        JSON.stringify({\r\n          message: in_put.current.value,\r\n          user: user.name,\r\n        })\r\n      );\r\n      in_put.current.value = \"\";\r\n    }\r\n  };\r\n\r\n  const salir = () => {\r\n    client.current.close();\r\n  };\r\n\r\n  //KeyCode === 13 is 'ENTER' on the keyboard\r\n  const pressEnter = (key) => {\r\n    if (key.keyCode === 13 && in_put.current.value) {\r\n      sendMessage();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className=\"row justify-content-center mt-5\">\r\n        <div className=\"col-md-4\">\r\n          <div className=\"form-floating\">\r\n            <textarea\r\n              readOnly\r\n              style={{ height: \"320px\", background: \"#fff\" }}\r\n              className=\"form-control\"\r\n              id=\"floatingTextarea\"\r\n            ></textarea>\r\n            <label className=\"text-success\" htmlFor=\"floatingTextarea\">\r\n              Chat: <b>{room_name}</b>\r\n            </label>\r\n          </div>\r\n\r\n          <div className=\"input-group mb-3 mt-2\">\r\n            <input\r\n              id=\"message-input\"\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder=\"Mensaje...\"\r\n              ref={in_put}\r\n              onKeyUp={pressEnter}\r\n            />\r\n            <input\r\n              className=\"btn btn-outline-success\"\r\n              type=\"button\"\r\n              id=\"button-chat\"\r\n              onClick={sendMessage}\r\n              value=\"Enviar Mensaje\"\r\n            />\r\n          </div>\r\n          <div className=\"d-grid gap-2 col-6 mx-auto\">\r\n            <input\r\n              className=\"btn btn-outline-danger\"\r\n              type=\"button\"\r\n              id=\"button-chat-exit\"\r\n              onClick={salir}\r\n              value=\"Salir\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default Room;\r\n","const welcome = {\r\n  inputs: [\r\n    {\r\n      label: \"Nombre de la sala\",\r\n      name: \"room\",\r\n      focus: true,\r\n      required: true,\r\n    },\r\n  ],\r\n};\r\n\r\nexport default welcome;\r\n","import React from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nfunction MyInput({ onChange, inputs }) {\r\n  return (\r\n    <>\r\n      {inputs.map((input, key) => {\r\n        return (\r\n          <TextField key={key}\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            fullWidth\r\n            label={input.label}\r\n            name={input.name}\r\n            onChange={onChange}\r\n            autoFocus={input.focus}\r\n            required={input.required}\r\n          />\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default MyInput;\r\n","import React from 'react-router-dom'\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nfunction MyButton({classes, type}){\r\n    return (\r\n      <Button\r\n        type={type}\r\n        fullWidth\r\n        variant=\"contained\"\r\n        className={classes}\r\n      >\r\n        Entrar\r\n      </Button>\r\n    );\r\n}\r\n\r\nexport default MyButton;","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nfunction CurrentUser({token}) {\r\n  const [user, setUser] = React.useState({\r\n    name: \"\",\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    axios.get(\"http://127.0.0.1:8000/user/current_user/\",{\r\n      headers: {\r\n        'Authorization': `Token ${token}`\r\n      }\r\n    }).then((res) => {\r\n      const response = res.data;\r\n      setUser({\r\n        name: response.user,\r\n      });\r\n    });\r\n  }, [token]);\r\n\r\n  return user.name;\r\n}\r\n\r\nexport default CurrentUser;\r\n","import React from \"react\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport welcome from \"../../form/Welcome\";\r\nimport MyInput from \"../common/Input\";\r\nimport MyButton from \"../common/Button\";\r\nimport CurrentUser from \"../common/CurrentUser\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(12),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: \"#0094C6\",\r\n    width: \"5rem\",\r\n    height: \"5rem\",\r\n  },\r\n  form: {\r\n    width: \"100%\",\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(2, 0, 2),\r\n    backgroundColor: \"#0094C6\",\r\n    color: \"white\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"#005E7C\",\r\n    },\r\n  },\r\n  user: {\r\n    color: \"Green\",\r\n    fontWeight: \"bold\",\r\n  },\r\n}));\r\n\r\nexport default function Chat({token}) {\r\n  //Cada navegación hacia adelante o hacia atrás usa el objeto history para navegar a un nuevo componente en una nueva URL:\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n  const [data, setData] = React.useState({\r\n    room: \"\",\r\n  });\r\n\r\n  const inputChange = (input) => {\r\n    setData({\r\n      ...data,\r\n      [input.target.name]: input.target.value,\r\n    });\r\n  };\r\n\r\n  const enterToRoom = (e) => {\r\n    history.push(`/chat/${data.room}/`);\r\n    localStorage.setItem(\"room\", data.room); //Persisten data\r\n    e.preventDefault();\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"xs\">\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}></Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Bienvenido:{\" \"}\r\n          <span className={classes.user}>{<CurrentUser token={token} />}</span>\r\n        </Typography>\r\n\r\n        <form className={classes.form} onSubmit={enterToRoom}>\r\n          <MyInput inputs={welcome.inputs} onChange={inputChange} />\r\n          <MyButton type=\"submit\" classes={classes.submit} />\r\n        </form>\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nfunction Login({ setToken }) {\r\n  const history = useHistory();\r\n  const [form, setForm] = React.useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n  const errorForm = React.useRef(\"\")\r\n\r\n  const onChange = (input) => {\r\n    setForm({\r\n      ...form,\r\n      [input.target.name]: input.target.value,\r\n    });\r\n  };\r\n\r\n  const onLogin = (e) => {\r\n    e.preventDefault();\r\n    axios\r\n      .post(\"http://localhost:8000/api/v1/token/login/\", {\r\n        password: form.password,\r\n        email: form.email,\r\n      })\r\n      .then((response) => {\r\n        setToken(response.data.auth_token);\r\n        localStorage.setItem(\"token\", response.data.auth_token);\r\n        history.push(\"/chat/\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        errorForm.current.innerText = \"No coinciden!!!!\"\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"row justify-content-center\">\r\n      <div className=\"col-md-6\">\r\n        <form onSubmit={onLogin}>\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">\r\n              Correo Electrónico\r\n            </label>\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              onChange={onChange}\r\n              className=\"form-control\"\r\n              required\r\n            />\r\n            <div id=\"emailHelp\" className=\"form-text\">\r\n              Este correo eletrónico no será compartido con nadie.\r\n            </div>\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"exampleInputPassword1\" className=\"form-label\">\r\n              Contraseña\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              onChange={onChange}\r\n              className=\"form-control\"\r\n              required\r\n            />\r\n          </div>\r\n          <button type=\"submit\" className=\"btn btn-primary\">\r\n            Entrar\r\n          </button>\r\n          <div>\r\n            <span ref={errorForm} className=\"text-danger\"/>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n//Me queda a aca, redireccionar y borrar token\r\nfunction LogOut({ setAuth, token }) {\r\n  const history = useHistory();\r\n\r\n  const onClick = (e) => {\r\n    e.preventDefault();\r\n    axios\r\n      .post(\"http://localhost:8000/api/v1/token/logout/\", {}, {\r\n        headers: {\r\n          Authorization: `token ${token}`,\r\n        },\r\n      })\r\n      .then((response) => {\r\n        setAuth(false)\r\n        localStorage.removeItem('token')\r\n        history.push(\"/\")\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n  return (\r\n    <div>\r\n      <p>LogOut Page</p>\r\n      <button onClick={onClick}>Logout</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LogOut;\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nfunction Register() {\r\n  const { register, errors, handleSubmit } = useForm();\r\n  const history = useHistory();\r\n\r\n  const newUser = (form) => {\r\n    axios\r\n      .post(\"http://localhost:8000/api/v1/users/\", {\r\n        username: form.username,\r\n        first_name: form.firstname,\r\n        last_name: form.lastname,\r\n        email: form.email,\r\n        password: form.password,\r\n      })\r\n      .then(() => {\r\n        history.push(\"/login/\");\r\n      })\r\n      .catch((error) => {\r\n        const response = error.response.data;\r\n        document.getElementById(\"server\").innerText = \"\";\r\n        for (const element in response) {\r\n          document.getElementById(\r\n            \"server\"\r\n          ).innerText += `${element}: Ya existe un usuario con esos datos.\\n`;\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"row\">\r\n      <div className=\"col-md-6 mx-auto\">\r\n        <h3 className=\"mt-4 text-primary display-5 text-center\">\r\n          Nuevo usuario\r\n        </h3>\r\n        <form onSubmit={handleSubmit(newUser)}>\r\n          <input\r\n            type=\"text\"\r\n            name=\"username\"\r\n            placeholder=\"Apodo\"\r\n            className=\"mt-2 form-control\"\r\n            ref={register({\r\n              required: {\r\n                value: true,\r\n                message: \"El apodo es requerido!\",\r\n              },\r\n            })}\r\n          />\r\n          <p className=\"text-danger text-small d-block mb-2\">\r\n            {errors.username?.message}\r\n          </p>\r\n          <input\r\n            type=\"text\"\r\n            name=\"firstname\"\r\n            placeholder=\"Nombres\"\r\n            className=\"mt-2 form-control\"\r\n            ref={register({\r\n              required: {\r\n                value: true,\r\n                message: \"El primer nombre es requerido!!\",\r\n              },\r\n            })}\r\n          />\r\n          <p className=\"text-danger text-small d-block mb-2\">\r\n            {errors.firstname?.message}\r\n          </p>\r\n          <input\r\n            type=\"text\"\r\n            name=\"lastname\"\r\n            placeholder=\"Apellidos\"\r\n            className=\"mt-2 form-control\"\r\n            ref={register({\r\n              required: {\r\n                value: true,\r\n                message: \"El apellido es requerido!\",\r\n              },\r\n            })}\r\n          />\r\n          <p className=\"text-danger text-small d-block mb-2\">\r\n            {errors.lastname?.message}\r\n          </p>\r\n          <input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            placeholder=\"Email\"\r\n            className=\"mt-2 form-control\"\r\n            ref={register({\r\n              required: {\r\n                value: true,\r\n                message: \"El email es requerido!\",\r\n              },\r\n            })}\r\n          />\r\n          <p className=\"text-danger text-small d-block mb-2\">\r\n            {errors.email?.message}\r\n          </p>\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            placeholder=\"Contraseña\"\r\n            className=\"mt-2 form-control\"\r\n            ref={register({\r\n              required: {\r\n                value: true,\r\n                message: \"Necesitas una contraseña!\",\r\n              },\r\n              minLength: {\r\n                value: 8,\r\n                message: \"Minimo de caracteres 8!\",\r\n              },\r\n            })}\r\n          />\r\n          <p className=\"text-danger text-small d-block mb-2\">\r\n            {errors.password?.message}\r\n          </p>\r\n          <p id=\"server\"></p>\r\n          <div className=\"mt-3 d-grid gap-2 col-6 mx-auto\">\r\n            <input\r\n              className=\"btn btn-primary\"\r\n              value=\"Registrar\"\r\n              type=\"submit\"\r\n            />\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import React from \"react\";\r\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\r\nimport ProtectedRouter from \"../authentication/ProtectedRouter\";\r\nimport Nav from \"../dashboard/Nav\";\r\nimport NotFound from \"../dashboard/NotFound\";\r\nimport Room from \"../chat/Room\";\r\nimport Chat from \"../chat/Welcome\";\r\nimport Login from \"../authentication/login\";\r\nimport Logout from \"../authentication/Logout\";\r\nimport Register from \"../authentication/Register\"\r\n\r\nexport default function Main() {\r\n  const [token, setToken] = React.useState();\r\n  const [auth, setAuth] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    if (localStorage.getItem(\"token\")) {\r\n      setToken(localStorage.getItem(\"token\"));\r\n      setAuth(true);\r\n    }\r\n  }, [token]);\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <Nav />\r\n      <Switch>\r\n        <ProtectedRouter\r\n          exact\r\n          isAuth={auth}\r\n          where={\"/login\"}\r\n          path=\"/chat/:room_name\"\r\n          component={() => <Room token={token} />}\r\n        />\r\n        <ProtectedRouter\r\n          exact\r\n          isAuth={auth}\r\n          where={\"/login/\"}\r\n          path=\"/chat\"\r\n          component={() => <Chat token={token} />}\r\n        />\r\n        <ProtectedRouter\r\n          exact\r\n          isAuth={!auth}\r\n          where={\"/chat/\"}\r\n          path=\"/login\"\r\n          component={() => <Login setToken={setToken} />}\r\n        />\r\n        <ProtectedRouter\r\n          exact\r\n          isAuth={auth}\r\n          where={\"/chat/\"}\r\n          path=\"/logout\"\r\n          component={() => <Logout setAuth={setAuth} token={token} />}\r\n        />\r\n        <ProtectedRouter\r\n          exact\r\n          isAuth={!auth}\r\n          where={\"/chat/\"}\r\n          path=\"/\"\r\n          component={() => <Register/>}\r\n        />\r\n        <Route component={() => <NotFound />} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Main from \"./Components/router/Main\";\r\n\r\nfunction App() {\r\n  return <Main />;\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n      <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}